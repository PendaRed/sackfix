<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>SackFix Code Generator</title>
  <meta name="description" content="Sackfix is designed to use strongly typed messages and fields, all of which are immutable. Having said that, fix requires the calculation of body length and ...">

  <link rel="stylesheet" href="/sackfix/assets/main.css">
  <link rel="canonical" href="http://localhost:4000/sackfix/codegenerator.html">
  <link rel="alternate" type="application/rss+xml" title="SackFix" href="/sackfix/feed.xml">
  
  
</head>


  <body>

    <header class="site-header" role="banner">

  <div class="wrapper">

    <a class="site-title" href="/sackfix/">SackFix</a>

    <nav class="site-nav">
      <span class="menu-icon">
        <svg viewBox="0 0 18 15" width="18px" height="15px">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </span>

      <div class="trigger">
        
          
        
          
          <a class="page-link" href="/sackfix/Contents.html">Contents</a>
          
        
          
          <a class="page-link" href="/sackfix/about.html">About</a>
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">SackFix Code Generator</h1>
  </header>

  <div class="post-content">
    <p>Sackfix is designed to use strongly typed messages and fields, all of which are
immutable.    Having said that, fix requires the calculation of body length and
checksum prior to sending, so these fields are generated internally when the
message is rendered to the fix string prior to sending.</p>

<p>The code is all on GitHub: <a href="https://github.com/PendaRed"><span class="icon icon--github"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"></path></svg>
</span><span class="username">PendaRed</span></a>
 /<a href="https://github.com/PendaRed/sackfix">sackfix</a></p>

<h2 id="fields">Fields</h2>

<p>Show me a fieldâ€¦.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">package</span> <span class="nn">org.sackfix.field</span>

<span class="k">import</span> <span class="nn">org.sackfix.common.validated.fields.SfFieldString</span>

<span class="cm">/**
  * Generated by SackFix code generator on 20170401
  */</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">SideField</span><span class="o">(</span><span class="k">override</span> <span class="k">val</span> <span class="n">value</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">SfFieldString</span><span class="o">(</span><span class="mi">54</span><span class="o">,</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">override</span> <span class="k">def</span> <span class="n">toString</span> <span class="k">=</span> <span class="n">appendStringBuilder</span><span class="o">().</span><span class="n">toString</span>
  <span class="k">override</span> <span class="k">def</span> <span class="n">appendStringBuilder</span><span class="o">(</span><span class="n">b</span><span class="k">:</span><span class="kt">StringBuilder</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">())</span> <span class="k">=</span> <span class="n">b</span><span class="o">.</span><span class="n">append</span><span class="o">(</span><span class="s">"(54)Side=("</span><span class="o">).</span><span class="n">append</span><span class="o">(</span><span class="n">value</span><span class="o">).</span><span class="n">append</span><span class="o">(</span><span class="s">")"</span><span class="o">).</span><span class="n">append</span><span class="o">(</span><span class="nc">SideField</span><span class="o">.</span><span class="n">fixDescriptionByValue</span><span class="o">.</span><span class="n">getOrElse</span><span class="o">(</span><span class="n">value</span><span class="o">,</span><span class="s">""</span><span class="o">))</span>
<span class="o">}</span>

<span class="k">object</span> <span class="nc">SideField</span> <span class="o">{</span>
  <span class="k">val</span> <span class="nc">TagId</span> <span class="k">=</span> <span class="mi">54</span>
  <span class="k">val</span> <span class="nc">Buy</span><span class="o">=</span><span class="s">"1"</span>
  <span class="k">val</span> <span class="nc">Sell</span><span class="o">=</span><span class="s">"2"</span>
  <span class="k">val</span> <span class="nc">BuyMinus</span><span class="o">=</span><span class="s">"3"</span>
  <span class="k">val</span> <span class="nc">SellPlus</span><span class="o">=</span><span class="s">"4"</span>
  <span class="k">val</span> <span class="nc">SellShort</span><span class="o">=</span><span class="s">"5"</span>
  <span class="k">val</span> <span class="nc">SellShortExempt</span><span class="o">=</span><span class="s">"6"</span>
  <span class="k">val</span> <span class="nc">Undisclosed</span><span class="o">=</span><span class="s">"7"</span>
  <span class="k">val</span> <span class="nc">Cross</span><span class="o">=</span><span class="s">"8"</span>
  <span class="k">val</span> <span class="nc">CrossShort</span><span class="o">=</span><span class="s">"9"</span>
  <span class="k">val</span> <span class="nc">CrossShortExempt</span><span class="o">=</span><span class="s">"A"</span>
  <span class="k">val</span> <span class="nc">AsDefined</span><span class="o">=</span><span class="s">"B"</span>
  <span class="k">val</span> <span class="nc">Opposite</span><span class="o">=</span><span class="s">"C"</span>
  <span class="k">val</span> <span class="nc">Subscribe</span><span class="o">=</span><span class="s">"D"</span>
  <span class="k">val</span> <span class="nc">Redeem</span><span class="o">=</span><span class="s">"E"</span>
  <span class="k">val</span> <span class="nc">Lend</span><span class="o">=</span><span class="s">"F"</span>
  <span class="k">val</span> <span class="nc">Borrow</span><span class="o">=</span><span class="s">"G"</span>
  <span class="k">lazy</span> <span class="k">val</span> <span class="n">fixDescriptionByValue</span> <span class="k">=</span> <span class="nc">Map</span><span class="o">(</span><span class="s">"1"</span><span class="o">-&gt;</span><span class="s">"BUY"</span><span class="o">,</span><span class="s">"2"</span><span class="o">-&gt;</span><span class="s">"SELL"</span><span class="o">,</span>
    <span class="s">"3"</span><span class="o">-&gt;</span><span class="s">"BUY_MINUS"</span><span class="o">,</span><span class="s">"4"</span><span class="o">-&gt;</span><span class="s">"SELL_PLUS"</span><span class="o">,</span><span class="s">"5"</span><span class="o">-&gt;</span><span class="s">"SELL_SHORT"</span><span class="o">,</span>
    <span class="s">"6"</span><span class="o">-&gt;</span><span class="s">"SELL_SHORT_EXEMPT"</span><span class="o">,</span><span class="s">"7"</span><span class="o">-&gt;</span><span class="s">"UNDISCLOSED"</span><span class="o">,</span><span class="s">"8"</span><span class="o">-&gt;</span><span class="s">"CROSS"</span><span class="o">,</span>
    <span class="s">"9"</span><span class="o">-&gt;</span><span class="s">"CROSS_SHORT"</span><span class="o">,</span><span class="s">"A"</span><span class="o">-&gt;</span><span class="s">"CROSS_SHORT_EXEMPT"</span><span class="o">,</span><span class="s">"B"</span><span class="o">-&gt;</span><span class="s">"AS_DEFINED"</span><span class="o">,</span>
    <span class="s">"C"</span><span class="o">-&gt;</span><span class="s">"OPPOSITE"</span><span class="o">,</span><span class="s">"D"</span><span class="o">-&gt;</span><span class="s">"SUBSCRIBE"</span><span class="o">,</span><span class="s">"E"</span><span class="o">-&gt;</span><span class="s">"REDEEM"</span><span class="o">,</span>
    <span class="s">"F"</span><span class="o">-&gt;</span><span class="s">"LEND"</span><span class="o">,</span><span class="s">"G"</span><span class="o">-&gt;</span><span class="s">"BORROW"</span><span class="o">)</span>

  <span class="k">def</span> <span class="n">decode</span><span class="o">(</span><span class="n">a</span><span class="k">:</span> <span class="kt">Option</span><span class="o">[</span><span class="kt">Any</span><span class="o">])</span> <span class="k">:</span> <span class="kt">Option</span><span class="o">[</span><span class="kt">SideField</span><span class="o">]</span> <span class="k">=</span> <span class="n">a</span> <span class="k">match</span> <span class="o">{</span>
    <span class="k">case</span> <span class="nc">Some</span><span class="o">(</span><span class="n">v</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">decode</span><span class="o">(</span><span class="n">v</span><span class="o">)</span>
    <span class="k">case</span> <span class="k">_</span> <span class="k">=&gt;</span>  <span class="n">scala</span><span class="o">.</span><span class="nc">Option</span><span class="o">.</span><span class="n">empty</span><span class="o">[</span><span class="kt">SideField</span><span class="o">]</span>
  <span class="o">}</span>

  <span class="k">def</span> <span class="n">decode</span><span class="o">(</span><span class="n">a</span><span class="k">:</span> <span class="kt">Any</span><span class="o">)</span> <span class="k">:</span> <span class="kt">Option</span><span class="o">[</span><span class="kt">SideField</span><span class="o">]</span> <span class="k">=</span> <span class="n">a</span> <span class="k">match</span> <span class="o">{</span>
    <span class="k">case</span> <span class="n">v</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=&gt;</span> <span class="nc">Some</span><span class="o">(</span><span class="nc">SideField</span><span class="o">(</span><span class="n">v</span><span class="o">))</span>
    <span class="k">case</span> <span class="n">v</span><span class="k">:</span> <span class="kt">Char</span> <span class="o">=&gt;</span> <span class="nc">Some</span><span class="o">(</span><span class="nc">SideField</span><span class="o">(</span><span class="n">v</span><span class="o">.</span><span class="n">toString</span><span class="o">))</span>
    <span class="k">case</span> <span class="n">v</span><span class="k">:</span> <span class="kt">SideField</span> <span class="o">=&gt;</span> <span class="nc">Some</span><span class="o">(</span><span class="n">v</span><span class="o">)</span>
    <span class="k">case</span> <span class="k">_</span> <span class="k">=&gt;</span> <span class="n">scala</span><span class="o">.</span><span class="nc">Option</span><span class="o">.</span><span class="n">empty</span><span class="o">[</span><span class="kt">SideField</span><span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>As you can see, no implicites and the decoder function.  Hmmm.  What of Scala <a href="http://gibbons.org.uk/scala-type-class">type classes</a>?  This code is autogenerated, so I kept it simple.  If you want to change to use implicits and ad-hoc polymorphism then please change the code generator.</p>

<h2 id="show-me-a-message">Show me a message!</h2>

<p>Messages are pretty similar, decoders, some traits to pull in common formatting
and some other useful stuff.  The main message is immutable.  As you can see it
is actually the message body, there is a wrapper class and a header which you
use to create the full message prior to sending - look at the example projects.</p>

<h3 id="example-of-how-to-create-a-fix-message">Example of how to create a fix message</h3>

<p>As mentioned <a href="sackfixbusinessobject.html">here</a> you create the message body and send it to the sackfix session actor to format into the session message which is sent down the wire.  When it has been sent the fully formed SfMessage is returned to you in an Ack.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">fixSessionActor</span> <span class="o">!</span> <span class="nc">BusinessFixMsgOut</span><span class="o">(</span>
  <span class="nc">ExecutionReportMessage</span><span class="o">(</span><span class="n">orderIDField</span> <span class="k">=</span> <span class="nc">OrderIDField</span><span class="o">(</span><span class="s">"1"</span><span class="o">),</span>
    <span class="n">execIDField</span> <span class="k">=</span> <span class="nc">ExecIDField</span><span class="o">(</span><span class="s">"exec1"</span><span class="o">),</span>
    <span class="n">execTypeField</span> <span class="k">=</span> <span class="nc">ExecTypeField</span><span class="o">(</span><span class="nc">ExecTypeField</span><span class="o">.</span><span class="nc">New</span><span class="o">),</span>
    <span class="n">ordStatusField</span> <span class="k">=</span> <span class="nc">OrdStatusField</span><span class="o">(</span><span class="nc">OrdStatusField</span><span class="o">.</span><span class="nc">New</span><span class="o">),</span>
    <span class="n">instrumentComponent</span> <span class="k">=</span> <span class="nc">InstrumentComponent</span><span class="o">(</span><span class="n">symbolField</span> <span class="k">=</span> <span class="n">symbol</span><span class="o">),</span>
    <span class="n">sideField</span> <span class="k">=</span> <span class="n">side</span><span class="o">,</span>
    <span class="n">leavesQtyField</span> <span class="k">=</span> <span class="nc">LeavesQtyField</span><span class="o">(</span><span class="n">quantity</span><span class="o">),</span>
    <span class="n">cumQtyField</span> <span class="k">=</span> <span class="nc">CumQtyField</span><span class="o">(</span><span class="mi">0</span><span class="o">),</span>
    <span class="n">avgPxField</span> <span class="k">=</span> <span class="nc">AvgPxField</span><span class="o">(</span><span class="mi">0</span><span class="o">)),</span> <span class="n">correlationId</span><span class="o">)</span></code></pre></figure>

<h3 id="example-generated-fix-message">Example generated fix message</h3>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">package</span> <span class="nn">org.sackfix.fix44</span>

<span class="k">import</span> <span class="nn">org.sackfix.field._</span>
<span class="k">import</span> <span class="nn">org.sackfix.common.validated.fields.</span><span class="o">{</span><span class="nc">SfFixMessageBody</span><span class="o">,</span> <span class="nc">SfFixMessageDecoder</span><span class="o">,</span> <span class="nc">SfFixFieldsToAscii</span><span class="o">,</span> <span class="nc">SfFixRenderable</span><span class="o">}</span>
<span class="k">import</span> <span class="nn">org.sackfix.common.message.SfRepeatingGroupCountException</span>
<span class="k">import</span> <span class="nn">scala.annotation.tailrec</span>
<span class="k">import</span> <span class="nn">scala.collection.immutable.HashSet</span>
<span class="k">import</span> <span class="nn">scala.collection.mutable.ArrayBuffer</span>


<span class="cm">/**
  * Generated by SackFix code generator on 20170401
  * Source specification was read from:
  *   /quickfixj1.6.0/FIX44.xml
  */</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">LogonMessage</span><span class="o">(</span><span class="n">encryptMethodField</span><span class="k">:</span><span class="kt">EncryptMethodField</span><span class="o">,</span>
                        <span class="n">heartBtIntField</span><span class="k">:</span><span class="kt">HeartBtIntField</span><span class="o">,</span>
                        <span class="n">rawDataLengthField</span><span class="k">:</span><span class="kt">Option</span><span class="o">[</span><span class="kt">RawDataLengthField</span><span class="o">]</span><span class="k">=</span><span class="nc">None</span><span class="o">,</span>
                        <span class="n">rawDataField</span><span class="k">:</span><span class="kt">Option</span><span class="o">[</span><span class="kt">RawDataField</span><span class="o">]</span><span class="k">=</span><span class="nc">None</span><span class="o">,</span>
                        <span class="n">resetSeqNumFlagField</span><span class="k">:</span><span class="kt">Option</span><span class="o">[</span><span class="kt">ResetSeqNumFlagField</span><span class="o">]</span><span class="k">=</span><span class="nc">None</span><span class="o">,</span>
                        <span class="n">nextExpectedMsgSeqNumField</span><span class="k">:</span><span class="kt">Option</span><span class="o">[</span><span class="kt">NextExpectedMsgSeqNumField</span><span class="o">]</span><span class="k">=</span><span class="nc">None</span><span class="o">,</span>
                        <span class="n">maxMessageSizeField</span><span class="k">:</span><span class="kt">Option</span><span class="o">[</span><span class="kt">MaxMessageSizeField</span><span class="o">]</span><span class="k">=</span><span class="nc">None</span><span class="o">,</span>
                        <span class="n">noMsgTypesField</span><span class="k">:</span><span class="kt">Option</span><span class="o">[</span><span class="kt">NoMsgTypesField</span><span class="o">]</span><span class="k">=</span><span class="nc">None</span><span class="o">,</span>
                        <span class="n">msgTypesGroups</span><span class="k">:</span> <span class="kt">Option</span><span class="o">[</span><span class="kt">List</span><span class="o">[</span><span class="kt">MsgTypesGroup</span><span class="o">]]</span><span class="k">=</span><span class="nc">None</span><span class="o">,</span>
                        <span class="n">testMessageIndicatorField</span><span class="k">:</span><span class="kt">Option</span><span class="o">[</span><span class="kt">TestMessageIndicatorField</span><span class="o">]</span><span class="k">=</span><span class="nc">None</span><span class="o">,</span>
                        <span class="n">usernameField</span><span class="k">:</span><span class="kt">Option</span><span class="o">[</span><span class="kt">UsernameField</span><span class="o">]</span><span class="k">=</span><span class="nc">None</span><span class="o">,</span>
                        <span class="n">passwordField</span><span class="k">:</span><span class="kt">Option</span><span class="o">[</span><span class="kt">PasswordField</span><span class="o">]</span><span class="k">=</span><span class="nc">None</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">SfFixMessageBody</span><span class="o">(</span><span class="s">"A"</span><span class="o">)</span>  <span class="k">with</span> <span class="nc">SfFixRenderable</span> <span class="k">with</span> <span class="nc">SfFixFieldsToAscii</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">noMsgTypesField</span><span class="o">.</span><span class="n">map</span><span class="o">(</span><span class="k">_</span><span class="o">.</span><span class="n">value</span><span class="o">).</span><span class="n">getOrElse</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="o">!=</span> <span class="n">msgTypesGroups</span><span class="o">.</span><span class="n">map</span><span class="o">(</span><span class="k">_</span><span class="o">.</span><span class="n">size</span><span class="o">).</span><span class="n">getOrElse</span><span class="o">(</span><span class="mi">0</span><span class="o">))</span>
    <span class="k">throw</span> <span class="nc">SfRepeatingGroupCountException</span><span class="o">(</span><span class="nc">NoMsgTypesField</span><span class="o">.</span><span class="nc">TagId</span><span class="o">,</span><span class="n">noMsgTypesField</span><span class="o">.</span><span class="n">map</span><span class="o">(</span><span class="k">_</span><span class="o">.</span><span class="n">value</span><span class="o">).</span><span class="n">getOrElse</span><span class="o">(</span><span class="mi">0</span><span class="o">),</span> <span class="n">msgTypesGroups</span><span class="o">.</span><span class="n">map</span><span class="o">(</span><span class="k">_</span><span class="o">.</span><span class="n">size</span><span class="o">).</span><span class="n">getOrElse</span><span class="o">(</span><span class="mi">0</span><span class="o">))</span>

  <span class="k">override</span> <span class="k">lazy</span> <span class="k">val</span> <span class="n">fixStr</span> <span class="k">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="n">appendFixStr</span><span class="o">().</span><span class="n">toString</span>
  <span class="k">override</span> <span class="k">def</span> <span class="n">appendFixStr</span><span class="o">(</span><span class="n">b</span><span class="k">:</span><span class="kt">StringBuilder</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">)</span><span class="k">:</span> <span class="kt">StringBuilder</span> <span class="o">=</span> <span class="n">format</span><span class="o">(</span><span class="n">formatForFix</span><span class="o">,</span> <span class="n">b</span><span class="o">)</span>

  <span class="k">override</span> <span class="k">def</span> <span class="n">toString</span><span class="o">()</span><span class="k">:</span><span class="kt">String</span> <span class="o">=</span> <span class="n">appendStringBuilder</span><span class="o">().</span><span class="n">toString</span><span class="o">()</span>
  <span class="k">def</span> <span class="n">appendStringBuilder</span><span class="o">(</span><span class="n">b</span><span class="k">:</span><span class="kt">StringBuilder</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">)</span> <span class="k">:</span> <span class="kt">StringBuilder</span> <span class="o">=</span> <span class="n">format</span><span class="o">(</span><span class="n">formatForToString</span><span class="o">,</span> <span class="n">b</span><span class="o">)</span>

  <span class="k">def</span> <span class="n">format</span><span class="o">(</span> <span class="n">fmt</span><span class="k">:</span> <span class="o">((</span><span class="kt">StringBuilder</span><span class="o">,</span><span class="kt">SfFixRenderable</span><span class="o">)=&gt;</span><span class="nc">Unit</span><span class="o">),</span> <span class="n">b</span><span class="k">:</span><span class="kt">StringBuilder</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">())</span><span class="k">:</span> <span class="kt">StringBuilder</span> <span class="o">=</span> <span class="o">{</span>
    <span class="n">fmt</span><span class="o">(</span><span class="n">b</span><span class="o">,</span><span class="n">encryptMethodField</span><span class="o">)</span>
    <span class="n">fmt</span><span class="o">(</span><span class="n">b</span><span class="o">,</span><span class="n">heartBtIntField</span><span class="o">)</span>
    <span class="n">rawDataLengthField</span><span class="o">.</span><span class="n">foreach</span><span class="o">(</span><span class="n">fmt</span><span class="o">(</span><span class="n">b</span><span class="o">,</span><span class="k">_</span><span class="o">))</span>
    <span class="n">rawDataField</span><span class="o">.</span><span class="n">foreach</span><span class="o">(</span><span class="n">fmt</span><span class="o">(</span><span class="n">b</span><span class="o">,</span><span class="k">_</span><span class="o">))</span>
    <span class="n">resetSeqNumFlagField</span><span class="o">.</span><span class="n">foreach</span><span class="o">(</span><span class="n">fmt</span><span class="o">(</span><span class="n">b</span><span class="o">,</span><span class="k">_</span><span class="o">))</span>
    <span class="n">nextExpectedMsgSeqNumField</span><span class="o">.</span><span class="n">foreach</span><span class="o">(</span><span class="n">fmt</span><span class="o">(</span><span class="n">b</span><span class="o">,</span><span class="k">_</span><span class="o">))</span>
    <span class="n">maxMessageSizeField</span><span class="o">.</span><span class="n">foreach</span><span class="o">(</span><span class="n">fmt</span><span class="o">(</span><span class="n">b</span><span class="o">,</span><span class="k">_</span><span class="o">))</span>
    <span class="n">noMsgTypesField</span><span class="o">.</span><span class="n">foreach</span><span class="o">(</span><span class="n">fmt</span><span class="o">(</span><span class="n">b</span><span class="o">,</span><span class="k">_</span><span class="o">))</span>
    <span class="n">msgTypesGroups</span><span class="o">.</span><span class="n">getOrElse</span><span class="o">(</span><span class="nc">List</span><span class="o">.</span><span class="n">empty</span><span class="o">).</span><span class="n">foreach</span><span class="o">(</span><span class="n">fmt</span><span class="o">(</span><span class="n">b</span><span class="o">,</span><span class="k">_</span><span class="o">))</span>
    <span class="n">testMessageIndicatorField</span><span class="o">.</span><span class="n">foreach</span><span class="o">(</span><span class="n">fmt</span><span class="o">(</span><span class="n">b</span><span class="o">,</span><span class="k">_</span><span class="o">))</span>
    <span class="n">usernameField</span><span class="o">.</span><span class="n">foreach</span><span class="o">(</span><span class="n">fmt</span><span class="o">(</span><span class="n">b</span><span class="o">,</span><span class="k">_</span><span class="o">))</span>
    <span class="n">passwordField</span><span class="o">.</span><span class="n">foreach</span><span class="o">(</span><span class="n">fmt</span><span class="o">(</span><span class="n">b</span><span class="o">,</span><span class="k">_</span><span class="o">))</span>
    <span class="n">b</span>
  <span class="o">}</span>

<span class="o">}</span>

<span class="k">object</span> <span class="nc">LogonMessage</span> <span class="k">extends</span> <span class="nc">SfFixMessageDecoder</span> <span class="o">{</span>
  <span class="k">override</span> <span class="k">val</span> <span class="nc">MandatoryFields</span> <span class="k">=</span> <span class="nc">HashSet</span><span class="o">[</span><span class="kt">Int</span><span class="o">](</span>
    <span class="nc">EncryptMethodField</span><span class="o">.</span><span class="nc">TagId</span><span class="o">,</span> <span class="nc">HeartBtIntField</span><span class="o">.</span><span class="nc">TagId</span><span class="o">)</span>

  <span class="k">override</span> <span class="k">def</span> <span class="n">isMandatoryField</span><span class="o">(</span><span class="n">tagId</span><span class="k">:</span><span class="kt">Int</span><span class="o">)</span> <span class="k">:</span> <span class="kt">Boolean</span> <span class="o">=</span> <span class="o">{</span>
    <span class="nc">MandatoryFields</span><span class="o">.</span><span class="n">contains</span><span class="o">(</span><span class="n">tagId</span><span class="o">)</span>  <span class="o">||</span>
    <span class="nc">MsgTypesGroup</span><span class="o">.</span><span class="n">isMandatoryField</span><span class="o">(</span><span class="n">tagId</span><span class="o">)</span>
  <span class="o">}</span>

  <span class="k">override</span> <span class="k">val</span> <span class="nc">OptionalFields</span> <span class="k">=</span> <span class="nc">HashSet</span><span class="o">[</span><span class="kt">Int</span><span class="o">](</span>
    <span class="nc">RawDataLengthField</span><span class="o">.</span><span class="nc">TagId</span><span class="o">,</span> <span class="nc">RawDataField</span><span class="o">.</span><span class="nc">TagId</span><span class="o">,</span> <span class="nc">ResetSeqNumFlagField</span><span class="o">.</span><span class="nc">TagId</span><span class="o">,</span> <span class="nc">NextExpectedMsgSeqNumField</span><span class="o">.</span><span class="nc">TagId</span><span class="o">,</span> <span class="nc">MaxMessageSizeField</span><span class="o">.</span><span class="nc">TagId</span><span class="o">,</span>
    <span class="nc">NoMsgTypesField</span><span class="o">.</span><span class="nc">TagId</span><span class="o">,</span> <span class="nc">TestMessageIndicatorField</span><span class="o">.</span><span class="nc">TagId</span><span class="o">,</span> <span class="nc">UsernameField</span><span class="o">.</span><span class="nc">TagId</span><span class="o">,</span> <span class="nc">PasswordField</span><span class="o">.</span><span class="nc">TagId</span><span class="o">)</span>

  <span class="k">override</span> <span class="k">def</span> <span class="n">isOptionalField</span><span class="o">(</span><span class="n">tagId</span><span class="k">:</span><span class="kt">Int</span><span class="o">)</span> <span class="k">:</span> <span class="kt">Boolean</span> <span class="o">=</span> <span class="o">{</span>
    <span class="nc">OptionalFields</span><span class="o">.</span><span class="n">contains</span><span class="o">(</span><span class="n">tagId</span><span class="o">)</span>  <span class="o">||</span>
    <span class="nc">MsgTypesGroup</span><span class="o">.</span><span class="n">isOptionalField</span><span class="o">(</span><span class="n">tagId</span><span class="o">)</span>
  <span class="o">}</span>

  <span class="k">override</span> <span class="k">def</span> <span class="n">isFieldOf</span><span class="o">(</span><span class="n">tagId</span><span class="k">:</span><span class="kt">Int</span><span class="o">)</span> <span class="k">:</span> <span class="kt">Boolean</span> <span class="o">=</span> <span class="n">isMandatoryField</span><span class="o">(</span><span class="n">tagId</span><span class="o">)</span> <span class="o">||</span> <span class="n">isOptionalField</span><span class="o">(</span><span class="n">tagId</span><span class="o">)</span>  <span class="o">||</span>
    <span class="nc">MsgTypesGroup</span><span class="o">.</span><span class="n">isFieldOf</span><span class="o">(</span><span class="n">tagId</span><span class="o">)</span>

   <span class="k">override</span> <span class="k">lazy</span> <span class="k">val</span> <span class="nc">RepeatingGroupsTags</span> <span class="k">=</span> <span class="nc">HashSet</span><span class="o">[</span><span class="kt">Int</span><span class="o">](</span>
    <span class="nc">NoMsgTypesField</span><span class="o">.</span><span class="nc">TagId</span><span class="o">)</span>


  <span class="k">override</span> <span class="k">def</span> <span class="n">isFirstField</span><span class="o">(</span><span class="n">tagId</span><span class="k">:</span><span class="kt">Int</span><span class="o">)</span> <span class="k">:</span> <span class="kt">Boolean</span> <span class="o">=</span> <span class="n">tagId</span><span class="o">==</span><span class="nc">EncryptMethodField</span><span class="o">.</span><span class="nc">TagId</span>

  <span class="k">override</span> <span class="k">def</span> <span class="n">decode</span><span class="o">(</span><span class="n">flds</span><span class="k">:</span> <span class="kt">Seq</span><span class="o">[</span><span class="kt">Tuple2</span><span class="o">[</span><span class="kt">Int</span>, <span class="kt">Any</span><span class="o">]],</span> <span class="n">startPos</span><span class="k">:</span><span class="kt">Int</span> <span class="o">=</span> <span class="mi">0</span><span class="o">)</span><span class="k">:</span><span class="kt">Option</span><span class="o">[</span><span class="kt">SfFixMessageBody</span><span class="o">]</span> <span class="k">=</span> <span class="o">{</span>
    <span class="k">val</span> <span class="o">(</span><span class="n">pos</span><span class="o">,</span> <span class="n">myFields</span><span class="o">,</span> <span class="n">nextTagPosLookup</span><span class="o">)</span> <span class="k">=</span> <span class="n">extractMyFieldsAndPopulatePositions</span><span class="o">(</span><span class="kc">false</span><span class="o">,</span> <span class="n">flds</span><span class="o">,</span> <span class="n">startPos</span><span class="o">)</span>
    <span class="n">validateMandatoryFieldsPresent</span><span class="o">(</span><span class="n">myFields</span><span class="o">)</span>

    <span class="k">if</span> <span class="o">(</span><span class="nc">MandatoryFields</span><span class="o">.</span><span class="n">isEmpty</span> <span class="o">||</span> <span class="n">myFields</span><span class="o">.</span><span class="n">nonEmpty</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">Some</span><span class="o">(</span><span class="nc">LogonMessage</span><span class="o">(</span><span class="nc">EncryptMethodField</span><span class="o">.</span><span class="n">decode</span><span class="o">(</span><span class="n">myFields</span><span class="o">.</span><span class="n">get</span><span class="o">(</span><span class="nc">EncryptMethodField</span><span class="o">.</span><span class="nc">TagId</span><span class="o">)).</span><span class="n">get</span><span class="o">,</span>
        <span class="nc">HeartBtIntField</span><span class="o">.</span><span class="n">decode</span><span class="o">(</span><span class="n">myFields</span><span class="o">.</span><span class="n">get</span><span class="o">(</span><span class="nc">HeartBtIntField</span><span class="o">.</span><span class="nc">TagId</span><span class="o">)).</span><span class="n">get</span><span class="o">,</span>
        <span class="n">myFields</span><span class="o">.</span><span class="n">get</span><span class="o">(</span><span class="nc">RawDataLengthField</span><span class="o">.</span><span class="nc">TagId</span><span class="o">).</span><span class="n">flatMap</span><span class="o">(</span><span class="n">f</span><span class="k">=&gt;</span><span class="nc">RawDataLengthField</span><span class="o">.</span><span class="n">decode</span><span class="o">(</span><span class="n">f</span><span class="o">)),</span>
        <span class="n">myFields</span><span class="o">.</span><span class="n">get</span><span class="o">(</span><span class="nc">RawDataField</span><span class="o">.</span><span class="nc">TagId</span><span class="o">).</span><span class="n">flatMap</span><span class="o">(</span><span class="n">f</span><span class="k">=&gt;</span><span class="nc">RawDataField</span><span class="o">.</span><span class="n">decode</span><span class="o">(</span><span class="n">f</span><span class="o">)),</span>
        <span class="n">myFields</span><span class="o">.</span><span class="n">get</span><span class="o">(</span><span class="nc">ResetSeqNumFlagField</span><span class="o">.</span><span class="nc">TagId</span><span class="o">).</span><span class="n">flatMap</span><span class="o">(</span><span class="n">f</span><span class="k">=&gt;</span><span class="nc">ResetSeqNumFlagField</span><span class="o">.</span><span class="n">decode</span><span class="o">(</span><span class="n">f</span><span class="o">)),</span>
        <span class="n">myFields</span><span class="o">.</span><span class="n">get</span><span class="o">(</span><span class="nc">NextExpectedMsgSeqNumField</span><span class="o">.</span><span class="nc">TagId</span><span class="o">).</span><span class="n">flatMap</span><span class="o">(</span><span class="n">f</span><span class="k">=&gt;</span><span class="nc">NextExpectedMsgSeqNumField</span><span class="o">.</span><span class="n">decode</span><span class="o">(</span><span class="n">f</span><span class="o">)),</span>
        <span class="n">myFields</span><span class="o">.</span><span class="n">get</span><span class="o">(</span><span class="nc">MaxMessageSizeField</span><span class="o">.</span><span class="nc">TagId</span><span class="o">).</span><span class="n">flatMap</span><span class="o">(</span><span class="n">f</span><span class="k">=&gt;</span><span class="nc">MaxMessageSizeField</span><span class="o">.</span><span class="n">decode</span><span class="o">(</span><span class="n">f</span><span class="o">)),</span>
        <span class="n">myFields</span><span class="o">.</span><span class="n">get</span><span class="o">(</span><span class="nc">NoMsgTypesField</span><span class="o">.</span><span class="nc">TagId</span><span class="o">).</span><span class="n">flatMap</span><span class="o">(</span><span class="n">f</span><span class="k">=&gt;</span><span class="nc">NoMsgTypesField</span><span class="o">.</span><span class="n">decode</span><span class="o">(</span><span class="n">f</span><span class="o">)),</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">nextTagPosLookup</span><span class="o">.</span><span class="n">contains</span><span class="o">(</span><span class="nc">NoMsgTypesField</span><span class="o">.</span><span class="nc">TagId</span><span class="o">))</span> <span class="nc">MsgTypesGroup</span><span class="o">.</span><span class="n">decode</span><span class="o">(</span><span class="n">flds</span><span class="o">,</span> <span class="n">nextTagPosLookup</span><span class="o">(</span><span class="nc">NoMsgTypesField</span><span class="o">.</span><span class="nc">TagId</span><span class="o">))</span> <span class="k">else</span> <span class="nc">None</span><span class="o">,</span>
        <span class="n">myFields</span><span class="o">.</span><span class="n">get</span><span class="o">(</span><span class="nc">TestMessageIndicatorField</span><span class="o">.</span><span class="nc">TagId</span><span class="o">).</span><span class="n">flatMap</span><span class="o">(</span><span class="n">f</span><span class="k">=&gt;</span><span class="nc">TestMessageIndicatorField</span><span class="o">.</span><span class="n">decode</span><span class="o">(</span><span class="n">f</span><span class="o">)),</span>
        <span class="n">myFields</span><span class="o">.</span><span class="n">get</span><span class="o">(</span><span class="nc">UsernameField</span><span class="o">.</span><span class="nc">TagId</span><span class="o">).</span><span class="n">flatMap</span><span class="o">(</span><span class="n">f</span><span class="k">=&gt;</span><span class="nc">UsernameField</span><span class="o">.</span><span class="n">decode</span><span class="o">(</span><span class="n">f</span><span class="o">)),</span>
        <span class="n">myFields</span><span class="o">.</span><span class="n">get</span><span class="o">(</span><span class="nc">PasswordField</span><span class="o">.</span><span class="nc">TagId</span><span class="o">).</span><span class="n">flatMap</span><span class="o">(</span><span class="n">f</span><span class="k">=&gt;</span><span class="nc">PasswordField</span><span class="o">.</span><span class="n">decode</span><span class="o">(</span><span class="n">f</span><span class="o">))))</span>
    <span class="o">}</span> <span class="k">else</span> <span class="nc">None</span>
  <span class="o">}</span>


<span class="o">}</span></code></pre></figure>

<h3 id="common-classes">Common classes</h3>

<p>If you read the above code you will see it references SfFixMessageDecoder,
SfFixRenderable and so on.  These are classes defined in the sackfix common
project.  There is no need for you to understand any of this.  Just code
your business objects.</p>

  </div>

</article>

      </div>
    </main>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">SackFix</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>
            
              SackFix
            
            </li>
            
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/PendaRed"><span class="icon icon--github"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">PendaRed</span></a>

          </li>
          

          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Scala Fix Engine, Akka, Fix, Scala, session layer implementation using code generation to produce strongly typed immutable fields and messages.  Typically 500 Micros to 3ms depending on Fix logging detail and GC.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
